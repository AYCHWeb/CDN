/* MapTilerTileJSON; Copyright (C) 2016 Klokan Technologies GmbH */
var loadMapTilerTileJSON=function(d,m){var g=function(b){var c=b.attribution,e=b.scheme||"xyz",d=b.tiles,k=b.minzoom||0,g=b.maxzoom||22,v=b.bounds||[-180,-90,180,90],n=b.crs||"EPSG:3857",h=b.proj4,l=b.extent,f=b.tile_matrix;window.proj4&&(h=b.proj4)&&(0<=h.indexOf("+proj=longlat")&&(h+=" +units=degrees"),window.proj4.defs(n,h));var p="tms"!=e,e=l;if(f){var q=[],r=[],t=[],u=ol.extent.createEmpty();f.forEach(function(a){t.push(a.tile_size||[256,256]);a.extent&&ol.extent.extend(u,a.extent);q.push(a.origin||
[l[0],l[3]]);a=a.pixel_size||[1,1];r.push(Math.abs(a[0]));0<a[1]&&(p=!1)});f=new ol.tilegrid.TileGrid({minZoom:k,origins:q,resolutions:r,tileSizes:t});e=e||u}else f=ol.tilegrid.createXYZ({extent:ol.proj.get("EPSG:3857").getExtent(),maxZoom:g,minZoom:k});c=new ol.source.XYZ({projection:ol.proj.get(n),maxZoom:g,minZoom:k,tileGrid:f,attribution:c,tileUrlFunction:function(a,b,c){b=a[0];c=a[1];a=a[2];p&&(a=-a-1);return d[(b+c+a)%d.length].replace("{z}",b).replace("{x}",c).replace("{y}",a)}});m(c,v,e,b)};
if("string"==typeof d){var c=new XMLHttpRequest;c.addEventListener("load",function(){g(this.response)});c.open("GET",d);c.responseType="json";c.send()}else g(d,m)};
